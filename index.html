<!-- https://bl.ocks.org/altocumulus/0fefcd64ca84319643b56ee9e722407f -->
<!DOCTYPE html>
<meta charset="utf-8">
<style>
  .stroke {
    fill: none;
    stroke: #000;
    stroke-width: 3px;
  }

  .fill {
    fill: #fff;
  }

  .graticule {
    fill: none;
    stroke: #777;
    stroke-width: 0.5px;
    stroke-opacity: 0.5;
  }

  .land {
    fill: #222;
  }

  .boundary {
    fill: none;
    stroke: #fff;
    stroke-width: 0.5px;
  }

  .circle {
    stroke: red;
    /* fill: red; */
    fill-opacity: 0;
  }
</style>
<svg width="960" height="960"></svg>
<script src="https://d3js.org/d3.v5.js"></script>
<script src="https://unpkg.com/topojson-client@2"></script>
<script>

  var svg = d3.select("svg"),
    width = +svg.attr("width"),
    height = +svg.attr("height");

  var projection = d3.geoAzimuthalEquidistant()
    .scale((width - 3) / (2 * Math.PI))
    .translate([width / 2, height / 2]).rotate([75, -40.5]);

  var path = d3.geoPath()
    .projection(projection);

  // var graticule = d3.geoGraticule();

  var EARTH_RADIUS = 6371;                         // mean radius in KM

  var circle = d3.geoCircle().center([-75, 40.5]).radius(radiusMeter => radiusMeter * 1e-3 / EARTH_RADIUS * 180 / Math.PI);

  svg.append("defs").append("path")
    .datum({ type: "Sphere" })
    .attr("id", "sphere")
    .attr("d", path);

  svg.append("use")
    .attr("class", "stroke")
    .attr("xlink:href", "#sphere");

  svg.append("use")
    .attr("class", "fill")
    .attr("xlink:href", "#sphere");

  // svg.append("path")
  //   .datum(graticule)
  //   .attr("class", "graticule")
  //   .attr("d", path);

  d3.json("https://unpkg.com/world-atlas@1/world/50m.json")
    .then(function (world) {
      svg.insert("path", ".graticule")
        .datum(topojson.feature(world, world.objects.land))
        .attr("class", "land")
        .attr("d", path);

      svg.insert("path", ".graticule")
        .datum(topojson.mesh(world, world.objects.countries, function (a, b) { return a !== b; }))
        .attr("class", "boundary")
        .attr("d", path);
    }).then(() => {
      svg.selectAll(".circle")
        .data([714756.1212552225,
          1310052.6288404204,
          2636193.8120077574,
          4130400.9860211024,
          137364.27739228515,
          99359.96519147744,
          209296.74918036754,
          982.877130748705,
          1121.9493800031391,
          53173.558949685284,
          1728.747080521111,
          387.214722963428,
          352.96683409197925,
          616.1589860304505,
          325.74794380787944,
          5423415.803426464,
          9295164.900113013,
          400.262674619369,
          5952680.3059998425,
          484.00279390990426,
          535.8016010045519,
          3269.627530999843,
          6290184.298427249
        ])
        .enter().append("path")
        .datum(circle)
        .attr("class", "circle")
        .attr("d", path);
    });

</script>